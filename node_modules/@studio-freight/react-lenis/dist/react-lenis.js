var e=require("@studio-freight/hamo"),r=require("@studio-freight/lenis"),t=require("prop-types"),n=require("react"),a=require("zustand"),u=require("clsx");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=/*#__PURE__*/o(r),c=/*#__PURE__*/o(t),i=/*#__PURE__*/o(n),f=/*#__PURE__*/o(u);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}var d=["children","root","options","autoRaf","rafPriority","className"],v=n.createContext(),p=a.create(function(){return{}}),b=n.forwardRef(function(r,t){var a=r.children,u=r.root,o=void 0!==u&&u,c=r.options,b=void 0===c?{}:c,m=r.autoRaf,y=void 0===m||m,h=r.rafPriority,k=void 0===h?0:h,C=r.className,g=function(e,r){if(null==e)return{};var t,n,a={},u=Object.keys(e);for(n=0;n<u.length;n++)r.indexOf(t=u[n])>=0||(a[t]=e[t]);return a}(r,d),N=n.useRef(),x=n.useRef(),R=n.useState(),E=R[0],O=R[1],j=n.useRef([]),q=n.useCallback(function(e,r){j.current.push({callback:e,priority:r}),j.current.sort(function(e,r){return e.priority-r.priority})},[]),L=n.useCallback(function(e){j.current=j.current.filter(function(r){return r.callback!==e})},[]);n.useImperativeHandle(t,function(){return E},[E]),n.useEffect(function(){var e=new l.default(s({},b,!o&&{wrapper:N.current,content:x.current}));return O(e),function(){e.destroy(),O(void 0)}},[o,JSON.stringify(b)]),e.useFrame(function(e){y&&(null==E||E.raf(e))},k),n.useEffect(function(){o&&E&&p.setState({lenis:E,addCallback:q,removeCallback:L})},[o,E,q,L]);var P=n.useCallback(function(e){for(var r=0;r<j.current.length;r++)j.current[r].callback(e)},[]);n.useEffect(function(){return null==E||E.on("scroll",P),function(){null==E||E.off("scroll",P)}},[E,P]);var w=n.useCallback(function(){N.current&&(N.current.className=f.default(null==E?void 0:E.className,C))},[E,C]);return n.useEffect(function(){return w(),null==E||E.on("className change",w),function(){null==E||E.off("className change",w)}},[E,w]),/*#__PURE__*/i.default.createElement(v.Provider,{value:{lenis:E,addCallback:q,removeCallback:L}},o?a:/*#__PURE__*/i.default.createElement("div",s({ref:N,className:f.default(null==E?void 0:E.className,C)},g),/*#__PURE__*/i.default.createElement("div",{ref:x},a)))});b.displayName="ReactLenis",b.propTypes={children:c.default.node,root:c.default.bool,options:c.default.object,autoRaf:c.default.bool,rafPriority:c.default.number,className:c.default.string},exports.Lenis=b,exports.LenisContext=v,exports.ReactLenis=b,exports.useLenis=function(e,r,t){void 0===r&&(r=[]),void 0===t&&(t=0);var a,u,o=(a=n.useContext(v),u=p(),null!=a?a:u),l=o.lenis,c=o.addCallback,i=o.removeCallback;return n.useEffect(function(){if(e&&c&&i&&l)return c(e,t),e(l),function(){i(e)}},[l,c,i,t].concat(r)),l};
//# sourceMappingURL=react-lenis.js.map
