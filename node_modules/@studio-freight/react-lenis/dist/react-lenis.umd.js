!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@studio-freight/hamo"),require("@studio-freight/lenis"),require("prop-types"),require("react"),require("zustand"),require("clsx")):"function"==typeof define&&define.amd?define(["exports","@studio-freight/hamo","@studio-freight/lenis","prop-types","react","zustand","clsx"],t):t((e||self).reactLenis={},e.hamo,e.Lenis,e.propTypes,e.react,e.zustand,e.clsx)}(this,function(e,t,n,r,a,u,o){function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=/*#__PURE__*/i(n),c=/*#__PURE__*/i(r),f=/*#__PURE__*/i(a),s=/*#__PURE__*/i(o);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var p=["children","root","options","autoRaf","rafPriority","className"],v=a.createContext(),b=u.create(function(){return{}}),m=a.forwardRef(function(e,n){var r=e.children,u=e.root,o=void 0!==u&&u,i=e.options,c=void 0===i?{}:i,m=e.autoRaf,y=void 0===m||m,h=e.rafPriority,g=void 0===h?0:h,k=e.className,C=function(e,t){if(null==e)return{};var n,r,a={},u=Object.keys(e);for(r=0;r<u.length;r++)t.indexOf(n=u[r])>=0||(a[n]=e[n]);return a}(e,p),N=a.useRef(),x=a.useRef(),R=a.useState(),E=R[0],j=R[1],L=a.useRef([]),O=a.useCallback(function(e,t){L.current.push({callback:e,priority:t}),L.current.sort(function(e,t){return e.priority-t.priority})},[]),q=a.useCallback(function(e){L.current=L.current.filter(function(t){return t.callback!==e})},[]);a.useImperativeHandle(n,function(){return E},[E]),a.useEffect(function(){var e=new l.default(d({},c,!o&&{wrapper:N.current,content:x.current}));return j(e),function(){e.destroy(),j(void 0)}},[o,JSON.stringify(c)]),t.useFrame(function(e){y&&(null==E||E.raf(e))},g),a.useEffect(function(){o&&E&&b.setState({lenis:E,addCallback:O,removeCallback:q})},[o,E,O,q]);var P=a.useCallback(function(e){for(var t=0;t<L.current.length;t++)L.current[t].callback(e)},[]);a.useEffect(function(){return null==E||E.on("scroll",P),function(){null==E||E.off("scroll",P)}},[E,P]);var w=a.useCallback(function(){N.current&&(N.current.className=s.default(null==E?void 0:E.className,k))},[E,k]);return a.useEffect(function(){return w(),null==E||E.on("className change",w),function(){null==E||E.off("className change",w)}},[E,w]),/*#__PURE__*/f.default.createElement(v.Provider,{value:{lenis:E,addCallback:O,removeCallback:q}},o?r:/*#__PURE__*/f.default.createElement("div",d({ref:N,className:s.default(null==E?void 0:E.className,k)},C),/*#__PURE__*/f.default.createElement("div",{ref:x},r)))});m.displayName="ReactLenis",m.propTypes={children:c.default.node,root:c.default.bool,options:c.default.object,autoRaf:c.default.bool,rafPriority:c.default.number,className:c.default.string},e.Lenis=m,e.LenisContext=v,e.ReactLenis=m,e.useLenis=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=0);var r,u,o=(r=a.useContext(v),u=b(),null!=r?r:u),i=o.lenis,l=o.addCallback,c=o.removeCallback;return a.useEffect(function(){if(e&&l&&c&&i)return l(e,n),e(i),function(){c(e)}},[i,l,c,n].concat(t)),i}});
//# sourceMappingURL=react-lenis.umd.js.map
